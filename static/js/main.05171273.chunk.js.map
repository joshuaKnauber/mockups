{"version":3,"sources":["components/scene/Environment.js","components/scene/Lighting.js","components/scene/colorUtils.js","components/scene/Slider.js","components/models/Mesh.js","components/models/BaseModel.js","components/models/mockups/phone.gltf","components/models/mockups/Phone.js","components/models/mockups/suzanne.gltf","components/models/mockups/Suzanne.js","components/scene/MockupScene.js","components/scene/Scene.js","App.js","reportWebVitals.js","index.js"],"names":["presets","pisa","folder","files","bridge2","milkyway","angus","Environment","preset","props","path","Lighting","shadows","light1","useRef","light2","light3","light4","light5","ref","position","intensity","color","castShadow","componentToHex","c","hex","toString","length","Slider","value","setValue","min","max","step","values","onChange","renderTrack","children","className","renderThumb","MockupMesh","metalness","roughness","img","geometry","selectable","selected","setSelected","matRef","imgInpRef","colorInpRef","useState","borderColor","setBorderColor","metalnessInpRef","roughnessValue","setRoughnessValue","imgUrl","setImgUrl","hovering","setHovering","updateImageUrl","evt","a","file","target","type","arrayBuffer","buffer","blob","Blob","urlCreator","window","URL","webkitURL","imageUrl","createObjectURL","useEffect","current","document","body","classList","add","remove","uuid","r","g","b","rgbToHex","Math","floor","checked","Boolean","TextureLoader","load","tex","flipY","encoding","THREE","map","needsUpdate","receiveShadow","onPointerEnter","stopPropagation","onPointerLeave","onClick","onPointerMissed","side","emissive","emissiveIntensity","Html","boundingBox","set","replace","m","result","exec","parseInt","hexToRgb","style","backgroundColor","id","for","BaseModel","tool","orbit","activeModel","setActiveModel","mockupUuid","groupRef","transform","transformMode","setTransformMode","selectedMeshUid","setSelectedMeshUid","includes","controls","setMode","callback","event","enabled","addEventListener","removeEventListener","transformEnabled","meshes","React","Children","toArray","TransformControls","size","dispose","onPointerOver","meshData","undefined","mat","material","name","Phone","useGLTF","PhoneModel","nodes","materials","Buttons","Flash","Bezel","Body","Lenses","Screen","preload","Suzanne","SuzanneModel","MockupScene","groundShadows","objectShadows","orbitEnabled","doDownload","setDoDownload","width","height","mockups","removeMockup","useFrame","state","gl","domElement","toDataURL","link","createElement","href","download","click","downloadImage","shortcutPressed","code","fallback","OrbitControls","makeDefault","mockup","mockupProps","key","ContactShadows","rotation","PI","opacity","blur","far","attach","args","modelNames","phone","suzanne","Scene","setGroundShadows","setObjectShadows","fov","setFov","setOrbitEnabled","hasAlpha","setHasAlpha","setColor","setMockups","showAddModels","setShowAddModels","widthInpRef","heightInpRef","canvasRef","toolIndex","setToolIndex","codes","setBtnDarkness","isHEX","indexOf","isRGB","hasFullSpec","substr","match","brightnessByColor","setBackgroundColor","getElementsByClassName","setCameraSize","elem","xScale","innerWidth","yScale","innerHeight","scale","addMockup","modelType","tooltip","Object","keys","marginRight","preserveDrawingBuffer","antialias","PerspectiveCamera","filter","item","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.05171273.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Environment as EnvironmentImpl } from '@react-three/drei'\r\n\r\nconst examplesURL = 'https://cdn.jsdelivr.net/gh/mrdoob/three.js@r123/examples/textures/cube/'\r\n\r\n// See https://github.com/mrdoob/three.js/tree/master/examples/textures/cube\r\nconst presets = {\r\n  pisa: {\r\n    folder: 'pisa',\r\n    files: ['px.png', 'nx.png', 'py.png', 'ny.png', 'pz.png', 'nz.png'],\r\n  },\r\n  bridge2: {\r\n    folder: 'Bridge2',\r\n    files: ['posx.jpg', 'negx.jpg', 'posy.jpg', 'negy.jpg', 'posz.jpg', 'negz.jpg'],\r\n  },\r\n  milkyway: {\r\n    folder: 'MilkyWay',\r\n    files: ['dark-s_px.jpg', 'dark-s_nx.jpg', 'dark-s_py.jpg', 'dark-s_ny.jpg', 'dark-s_pz.jpg', 'dark-s_nz.jpg'],\r\n  },\r\n  angus: {\r\n    folder: 'angus',\r\n    files: ['cube_m00_c00.jpg', 'cube_m00_c01.jpg', 'cube_m00_c02.jpg', 'cube_m00_c03.jpg', 'cube_m00_c04.jpg', 'cube_m00_c05.jpg'],\r\n  },\r\n}\r\n\r\nexport default function Environment({ preset, ...props }) {\r\n  const { folder, files } = presets[preset]\r\n  const path = examplesURL + folder + '/'\r\n  return <EnvironmentImpl files={files} path={path} {...props} />\r\n}","import React, { useRef } from \"react\"\r\nimport { PointLightHelper, HemisphereLightHelper, DirectionalLightHelper } from \"three\"\r\nimport { useHelper, softShadows } from \"@react-three/drei\"\r\n\r\n// softShadows()\r\n\r\nexport default function Lighting({ shadows }) {\r\n\r\n  const light1 = useRef()\r\n  const light2 = useRef()\r\n  const light3 = useRef()\r\n  const light4 = useRef()\r\n  const light5 = useRef()\r\n  \r\n  // useHelper(light1, DirectionalLightHelper, 1, \"orange\")\r\n  // useHelper(light2, DirectionalLightHelper, 1, \"blue\")\r\n  // useHelper(light3, DirectionalLightHelper, 1, \"white\")\r\n  // useHelper(light4, DirectionalLightHelper, 1, \"white\")\r\n  // useHelper(light5, DirectionalLightHelper, 1, \"white\")\r\n\r\n  return (\r\n    <group>\r\n      {/* <ambientLight intensity={1} /> */}\r\n      <directionalLight\r\n        ref={light1}\r\n        position={[2, 3, 3]}\r\n        intensity={3}\r\n        color={\"orange\"}\r\n      />\r\n      <directionalLight\r\n        ref={light2}\r\n        position={[-2, 3, 3]}\r\n        intensity={3}\r\n        color={\"lightblue\"}\r\n      />\r\n      <directionalLight\r\n        ref={light3}\r\n        position={[2, 1, -3]}\r\n        intensity={4}\r\n        color={\"white\"}\r\n      />\r\n      <directionalLight\r\n        ref={light4}\r\n        position={[-2, 1, -3]}\r\n        intensity={4}\r\n        color={\"white\"}\r\n      />\r\n      <directionalLight\r\n        ref={light5}\r\n        position={[0, 3, 3]}\r\n        intensity={2}\r\n        color={\"white\"}\r\n        castShadow={shadows}\r\n      />\r\n    </group>\r\n  )\r\n}\r\n  ","export const brightnessByColor = (color) => {\r\n  var color = \"\" + color, isHEX = color.indexOf(\"#\") == 0, isRGB = color.indexOf(\"rgb\") == 0;\r\n  if (isHEX) {\r\n    const hasFullSpec = color.length == 7;\r\n    var m = color.substr(1).match(hasFullSpec ? /(\\S{2})/g : /(\\S{1})/g);\r\n    if (m) var r = parseInt(m[0] + (hasFullSpec ? '' : m[0]), 16), g = parseInt(m[1] + (hasFullSpec ? '' : m[1]), 16), b = parseInt(m[2] + (hasFullSpec ? '' : m[2]), 16);\r\n  }\r\n  if (isRGB) {\r\n    var m = color.match(/(\\d+){3}/g);\r\n    if (m) var r = m[0], g = m[1], b = m[2];\r\n  }\r\n  if (typeof r != \"undefined\") return ((r*299)+(g*587)+(b*114))/1000;\r\n}\r\n\r\n\r\nexport const hexToRgb = (hex) => {\r\n  // https://stackoverflow.com/questions/5623838/rgb-to-hex-and-hex-to-rgb\r\n  var shorthandRegex = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\r\n  hex = hex.replace(shorthandRegex, function(m, r, g, b) {\r\n    return r + r + g + g + b + b;\r\n  });\r\n\r\n  var result = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\r\n  return `rgb(${parseInt(result[1], 16)}, ${parseInt(result[2], 16)}, ${parseInt(result[3], 16)})`\r\n}\r\n  \r\n\r\n\r\nconst componentToHex = (c) => {\r\n  var hex = c.toString(16);\r\n  return hex.length == 1 ? \"0\" + hex : hex;\r\n}\r\n\r\nexport const rgbToHex = (r, g, b) => {\r\n  return \"#\" + componentToHex(r) + componentToHex(g) + componentToHex(b);\r\n}","import React from 'react';\r\nimport { Range } from 'react-range';\r\n\r\nexport default function Slider({ value, setValue, min, max, step=1 }) {\r\n\r\n  return (\r\n    <Range\r\n      step={step}\r\n      min={min}\r\n      max={max}\r\n      values={[value]}\r\n      onChange={(values) => setValue(values[0]) }\r\n      renderTrack={({ props, children }) => (\r\n        <div\r\n          className=\"rangeBackground\"\r\n        >\r\n          <div\r\n            ref={props.ref}\r\n            className=\"rangeTrack\"\r\n          >\r\n            {children}\r\n          </div>\r\n        </div>\r\n      )}\r\n      renderThumb={({ props }) => (\r\n        <div\r\n          {...props}\r\n          className=\"rangeThumb\"\r\n        ></div>\r\n      )}\r\n    />\r\n  );\r\n}","import React, { useRef, useState, useEffect } from 'react'\r\nimport { TextureLoader } from 'three'\r\nimport { Html } from '@react-three/drei'\r\nimport * as THREE from \"three\";\r\n\r\nimport { hexToRgb, rgbToHex } from '../scene/colorUtils';\r\n\r\nimport Slider from '../scene/Slider';\r\nimport \"./Popup.scss\";\r\n\r\n\r\nexport default function MockupMesh ({ color=\"FFFFFF\", metalness=0, roughness=0.2, img=null, geometry=null, selectable=true, selected, setSelected }) {\r\n\r\n  const matRef = useRef()\r\n  const imgInpRef = useRef()\r\n  const colorInpRef = useRef()\r\n  const [borderColor, setBorderColor] = useState(\"white\")\r\n  const metalnessInpRef = useRef()\r\n  const [roughnessValue, setRoughnessValue] = useState(roughness)\r\n\r\n  const [imgUrl, setImgUrl] = useState(img)\r\n  const [hovering, setHovering] = useState(false)\r\n\r\n\r\n  const setMeshColor = () => {\r\n    colorInpRef.current && matRef.current.color.set( hexToRgb(colorInpRef.current.value) );\r\n    colorInpRef.current && setBorderColor(colorInpRef.current.value)\r\n  }\r\n  const setMeshMetalness = () => { matRef.current.metalness = metalnessInpRef.current.checked ? 1 : 0 }\r\n\r\n\r\n  const updateImageUrl = async (evt) => {\r\n    const file = evt.target.files[0]\r\n    const { type } = file\r\n    const buffer = await file.arrayBuffer()\r\n    const blob = new Blob([buffer], { type })\r\n    const urlCreator = window.URL || window.webkitURL\r\n    const imageUrl = urlCreator.createObjectURL(blob)\r\n    setImgUrl(imageUrl)\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    matRef.current.roughness = roughnessValue\r\n  }, [roughnessValue])\r\n\r\n\r\n  useEffect(() => {\r\n    if (hovering) { document.body.classList.add(\"pointing\") }\r\n    else { document.body.classList.remove(\"pointing\") }\r\n  }, [hovering])\r\n\r\n\r\n  useEffect(() => {\r\n    if (selected === geometry.uuid) {\r\n      if (colorInpRef.current) {\r\n        const {r,g,b} = matRef.current.color\r\n        let color = rgbToHex(Math.floor(r*255),Math.floor(g*255),Math.floor(b*255))\r\n        colorInpRef.current.value = color\r\n        setBorderColor(color)\r\n      } \r\n      metalnessInpRef.current.checked = Boolean(matRef.current.metalness)\r\n      setRoughnessValue(roughness)\r\n    }\r\n  }, [selected])\r\n\r\n\r\n  useEffect(() => {\r\n    if (selected === geometry.uuid && !selectable) {\r\n      setSelected(null)\r\n    }\r\n  }, [selectable])\r\n\r\n\r\n  useEffect(() => {\r\n    if (typeof(imgUrl) === typeof(\"\")) {\r\n      const textureLoader = new TextureLoader()\r\n      textureLoader.load(imgUrl, (tex) => {\r\n        tex.flipY = false\r\n        tex.encoding = THREE.sRGBEncoding\r\n        matRef.current.map = tex\r\n        matRef.current.needsUpdate = true\r\n      })\r\n    }\r\n  }, [imgUrl])\r\n\r\n  \r\n  const startHover = (evt) => {\r\n    if (selectable) {\r\n      setHovering(true)\r\n      evt.stopPropagation()\r\n    }\r\n  }\r\n\r\n\r\n  const finishHover = (evt) => {\r\n    if (hovering) {\r\n      setHovering(false)\r\n      evt.stopPropagation()\r\n    }\r\n  }\r\n\r\n\r\n  const selectMesh = (evt) => {\r\n    if (hovering && selectable) {\r\n      setSelected(geometry.uuid)\r\n      evt.stopPropagation()\r\n    }\r\n  }\r\n\r\n\r\n  const deselectMesh = (evt) => {\r\n    if (selected === geometry.uuid) {\r\n      setSelected(null)\r\n      evt.stopPropagation()\r\n    }\r\n  }\r\n\r\n\r\n  return (\r\n    <group castShadow receiveShadow>\r\n      <mesh\r\n        onPointerEnter={startHover}\r\n        onPointerLeave={finishHover}\r\n        onClick={selectMesh}\r\n        onPointerMissed={deselectMesh}\r\n        castShadow\r\n        receiveShadow\r\n        geometry={geometry}\r\n      >\r\n        <meshStandardMaterial\r\n          ref={matRef}\r\n          color={color}\r\n          side={THREE.DoubleSide}\r\n          metalness={metalness}\r\n          roughness={roughness}\r\n          emissive={hovering ? \"orange\" : \"white\"}\r\n          emissiveIntensity={hovering ? 5 : 0}\r\n          map={img}\r\n        />\r\n      </mesh>\r\n\r\n      {selected === geometry.uuid && <Html position={geometry.boundingBox.max}>\r\n        <div className=\"materialPopup\">\r\n          {!img && <>\r\n            <p>Color</p>\r\n            <input type=\"color\" ref={colorInpRef} onChange={setMeshColor} style={{backgroundColor:borderColor}} />\r\n          </>}\r\n          {img && <>\r\n            <p>Image</p>\r\n            <input type=\"file\" ref={imgInpRef} onChange={updateImageUrl} />\r\n          </>}\r\n          <p>Metal</p>\r\n          <input type=\"checkbox\" id=\"switch\" ref={metalnessInpRef} onChange={setMeshMetalness} /><label for=\"switch\">Toggle</label>\r\n          <p>Roughness</p>\r\n          <Slider min={0} max={1} step={0.01} value={roughnessValue} setValue={setRoughnessValue} />\r\n        </div>\r\n      </Html>}\r\n\r\n    </group>\r\n  )\r\n}","import React, { useState, useRef, useEffect } from 'react'\r\nimport * as THREE from \"three\";\r\nimport { TransformControls } from '@react-three/drei'\r\n\r\nimport MockupMesh from './Mesh';\r\n\r\n\r\nexport default function BaseModel(props) {\r\n  const { tool, orbit, activeModel, setActiveModel, mockupUuid } = props\r\n\r\n  const groupRef = useRef()\r\n\r\n  const transform = useRef()\r\n\r\n  const [transformMode, setTransformMode] = useState(\"translate\")\r\n\r\n  const [selectedMeshUid, setSelectedMeshUid] = useState(null)\r\n\r\n  useEffect(() => {\r\n    if (![\"translate\", \"rotate\", \"scale\"].includes(tool)) {\r\n      setActiveModel(null)\r\n    } else {\r\n      setTransformMode(tool)\r\n    }\r\n  }, [tool])\r\n\r\n  const selectModel = (evt) => {\r\n    if ([\"translate\", \"rotate\", \"scale\"].includes(tool)) {\r\n      setActiveModel(groupRef.current)\r\n    }\r\n    evt.stopPropagation()\r\n  }\r\n  \r\n  const setCursor = () => {\r\n    if ([\"translate\", \"rotate\", \"scale\"].includes(tool)) {\r\n      document.body.classList.add(\"pointing\")\r\n    }\r\n  }\r\n  const resetCursor = () => {\r\n    if ([\"translate\", \"rotate\", \"scale\"].includes(tool)) {\r\n      document.body.classList.remove(\"pointing\")\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (transform.current && orbit.current) {\r\n      const controls = transform.current\r\n      controls.setMode(transformMode)\r\n      const callback = event => (orbit.current.enabled = !event.value)\r\n      controls.addEventListener(\"dragging-changed\", callback)\r\n      return () => controls.removeEventListener(\"dragging-changed\", callback)\r\n    }\r\n  })\r\n\r\n  const transformEnabled = () => {\r\n    return [\"translate\", \"rotate\", \"scale\"].includes(tool) && activeModel === groupRef.current\r\n  }\r\n\r\n  let meshes = React.Children.toArray(props.children)\r\n  return (\r\n    <TransformControls ref={transform}\r\n      enabled={transformEnabled}\r\n      size={transformEnabled() ? 1 : 0} >\r\n      {<group {...props} dispose={null} ref={groupRef} mockupUuid={mockupUuid}\r\n        onPointerOver={setCursor}\r\n        onPointerLeave={resetCursor}\r\n        onClick={selectModel}\r\n      >\r\n        {meshes.map(meshData => {\r\n          if (meshData.props.geometry === undefined) return\r\n\r\n          const mat = meshData.props.material\r\n          return <MockupMesh\r\n                    key={meshData.props.geometry.uuid}\r\n                    geometry={meshData.props.geometry}\r\n                    color={mat.map ? new THREE.Color(\"rgb(127,127,127)\") : mat.color}\r\n                    metalness={mat.metalness}\r\n                    roughness={mat.roughness}\r\n                    img={mat.map}\r\n                    selectable={mat.name.includes(\".editable\") && tool === \"materials\"}\r\n                    selected={selectedMeshUid}\r\n                    setSelected={setSelectedMeshUid}\r\n                  />\r\n        })}\r\n      </group>}\r\n    </TransformControls>\r\n  )\r\n}","export default __webpack_public_path__ + \"static/media/phone.2756fbde.gltf\";","import React from 'react'\r\nimport { useGLTF } from '@react-three/drei'\r\nimport BaseModel from '../BaseModel'\r\n\r\nimport PhoneModel from './phone.gltf'\r\n\r\nexport default function Phone(props) {\r\n\r\n  const { nodes, materials } = useGLTF(PhoneModel)\r\n\r\n  return (\r\n    <BaseModel {...props} >\r\n      <mesh\r\n        castShadow\r\n        receiveShadow\r\n        geometry={nodes.Buttons.geometry}\r\n        material={materials['Buttons.editable']}\r\n      />\r\n      <mesh castShadow receiveShadow geometry={nodes.Flash.geometry} material={materials.Flash} />\r\n      <mesh\r\n        castShadow\r\n        receiveShadow\r\n        geometry={nodes.Bezel.geometry}\r\n        material={materials['Bezel.editable']}\r\n      />\r\n      <mesh\r\n        castShadow\r\n        receiveShadow\r\n        geometry={nodes.Body.geometry}\r\n        material={materials['Body.editable']}\r\n      />\r\n      <mesh castShadow receiveShadow geometry={nodes.Lenses.geometry} material={materials.Lenses} />\r\n      <mesh\r\n        castShadow\r\n        receiveShadow\r\n        geometry={nodes.Screen.geometry}\r\n        material={materials['Screen.editable']}\r\n      />\r\n    </BaseModel>\r\n  )\r\n}\r\n\r\nuseGLTF.preload(PhoneModel)","export default __webpack_public_path__ + \"static/media/suzanne.8371d4f0.gltf\";","import React from 'react'\r\nimport { useGLTF } from '@react-three/drei'\r\nimport BaseModel from '../BaseModel'\r\n\r\nimport SuzanneModel from './suzanne.gltf'\r\n\r\nexport default function Suzanne(props) {\r\n\r\n  const { nodes, materials } = useGLTF(SuzanneModel)\r\n\r\n  return (\r\n    <BaseModel {...props} >\r\n      <mesh\r\n        castShadow\r\n        receiveShadow\r\n        geometry={nodes.Suzanne.geometry}\r\n        material={materials['Material.001.editable']}\r\n      />\r\n    </BaseModel>\r\n  )\r\n}\r\n\r\nuseGLTF.preload(SuzanneModel)","import React, { useState, useRef, Suspense, useEffect } from 'react'\r\n\r\nimport { useFrame } from '@react-three/fiber'\r\nimport { OrbitControls, ContactShadows } from '@react-three/drei'\r\n\r\nimport Environment from './Environment'\r\nimport Lighting from './Lighting'\r\n\r\n\r\n// IMPORT YOUR MODEL HERE\r\nimport Phone from '../models/mockups/Phone'\r\nimport Suzanne from '../models/mockups/Suzanne'\r\n\r\n\r\nfunction MockupScene({ groundShadows, objectShadows, orbitEnabled, doDownload, setDoDownload, width, height, tool, mockups, removeMockup }) {\r\n\r\n  const orbit = useRef()\r\n\r\n  const [activeModel, setActiveModel] = useState(null)\r\n\r\n  const downloadImage = (state) => {\r\n    if (!doDownload) return\r\n    \r\n    const img = state.gl.domElement.toDataURL()\r\n    const link = document.createElement(\"a\");\r\n    link.href = img;\r\n    link.download = `mockup_${width}x${height}.png`;\r\n    link.click();\r\n\r\n    setDoDownload(false)\r\n  }\r\n\r\n  useFrame((state) => downloadImage(state))\r\n\r\n  const shortcutPressed = (evt) => {\r\n    if ([\"Backspace\", \"Delete\"].includes(evt.code)) {\r\n      if ([\"translate\", \"rotate\", \"scale\"].includes(tool) && activeModel) {\r\n        removeMockup(activeModel.mockupUuid)\r\n      }\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"keyup\", shortcutPressed)\r\n\r\n    return () => {\r\n      window.removeEventListener(\"keyup\", shortcutPressed)\r\n    }\r\n  }, [activeModel])\r\n\r\n  const preset = \"bridge2\"\r\n\r\n  return (\r\n    <Suspense fallback={null}>\r\n      <scene>\r\n        <OrbitControls makeDefault enabled={orbitEnabled} ref={orbit} target={[0, 0.7, 0]} />\r\n\r\n        <Environment preset={preset} />\r\n        <Lighting shadows={objectShadows} />\r\n\r\n        <group position={[0, 0, 0]} dispose={null} >\r\n          {mockups.map(mockup => {\r\n            const mockupProps = { key: mockup.key, tool: tool, orbit: orbit, activeModel: activeModel, setActiveModel: setActiveModel, mockupUuid: mockup.key }\r\n\r\n            // ADD A CASE HERE WHEN ADDING A NEW MODEL. MAKE SURE TO PASS THE mockupProps AND USE THE SAME KEY AS IN modelNames\r\n            switch (mockup.type) {\r\n              case \"phone\":\r\n                return <Phone {...mockupProps} />\r\n              case \"suzanne\":\r\n                return <Suzanne {...mockupProps} />\r\n            }\r\n\r\n          })}\r\n        </group>\r\n\r\n        <ContactShadows rotation={[Math.PI / 2, 0, 0]} position={[0, -7, 0]} opacity={0.75} width={40} height={40} blur={1} far={9} />\r\n\r\n        {groundShadows && <mesh rotation={[-Math.PI / 2, 0, 0]} position={[0, 0, 0]} receiveShadow castShadow>\r\n          <planeBufferGeometry attach=\"geometry\" args={[15, 15]} />\r\n          <shadowMaterial attach=\"material\" opacity={.4} />\r\n        </mesh>}\r\n\r\n        {[\"translate\", \"rotate\", \"scale\"].includes(tool) && <gridHelper position={[0, 0, 0]} args={[15, 20, \"white\", \"#585858\"]}/>}\r\n      </scene>\r\n    </Suspense>\r\n  );\r\n}\r\n\r\n\r\nexport default MockupScene;","import React, { useState, useRef, useEffect } from 'react'\r\n\r\nimport { Canvas } from '@react-three/fiber'\r\nimport { PerspectiveCamera } from '@react-three/drei'\r\n\r\nimport uuid from 'react-uuid'\r\nimport { FaCamera, FaAdjust, FaLightbulb, FaClone, FaLock, FaPlus, FaArrowsAlt, FaSyncAlt, FaCompressArrowsAlt, FaFillDrip, FaHandPaper, FaTimes } from 'react-icons/fa';\r\n\r\nimport './Scene.scss';\r\nimport MockupScene from './MockupScene';\r\nimport Slider from './Slider';\r\n\r\nimport { brightnessByColor } from './colorUtils';\r\n\r\n\r\n// ADD YOUR MODEL KEY AND DISPLAY NAME TO THIS LIST\r\nconst modelNames = {\r\n  phone: \"Smartphone\",\r\n  suzanne: \"Suzanne\"\r\n}\r\n\r\n\r\nfunction Scene() {\r\n\r\n  // VIEW SETTINGS\r\n  const [groundShadows, setGroundShadows] = useState(false)\r\n  const [objectShadows, setObjectShadows] = useState(true)\r\n\r\n  const [fov, setFov] = useState(20)\r\n\r\n  const [orbitEnabled, setOrbitEnabled] = useState(true)\r\n\r\n  const [hasAlpha, setHasAlpha] = useState(false)\r\n  const [color, setColor] = useState(\"\")\r\n  \r\n  const [mockups, setMockups] = useState([])\r\n\r\n  const [showAddModels, setShowAddModels] = useState(false)\r\n  \r\n  // REFS\r\n  const colorInpRef = useRef()\r\n  const widthInpRef = useRef()\r\n  const heightInpRef = useRef()\r\n\r\n  const canvasRef = useRef()\r\n\r\n  // TOOLS\r\n  const [doDownload, setDoDownload] = useState(false)\r\n  const tools = [\"grab\", \"materials\", \"translate\", \"rotate\", \"scale\"]\r\n  const [toolIndex, setToolIndex] = useState(1)\r\n\r\n\r\n  const shortcutPressed = (evt) => {\r\n    const codes = {\r\n      \"Space\": 0,\r\n      \"Digit1\": 0,\r\n      \"KeyM\": 1,\r\n      \"KeyF\": 1,\r\n      \"Digit2\": 1,\r\n      \"KeyQ\": 2,\r\n      \"KeyG\": 2,\r\n      \"Digit3\": 2,\r\n      \"KeyW\": 3,\r\n      \"KeyR\": 3,\r\n      \"Digit4\": 3,\r\n      \"KeyE\": 4,\r\n      \"KeyS\": 4,\r\n      \"Digit5\": 4,\r\n    }\r\n    if (evt.code in codes) {\r\n      setToolIndex(codes[evt.code])\r\n    }\r\n  }\r\n\r\n\r\n  const setBtnDarkness = () => {\r\n    const bright = brightnessByColor(colorInpRef.current.value)\r\n    if (bright > 50) {\r\n      document.body.classList.remove(\"dark\")\r\n    } else {\r\n      document.body.classList.add(\"dark\")\r\n    }\r\n  }\r\n  \r\n\r\n  const setBackgroundColor = () => {\r\n    document.getElementsByClassName(\"App\")[0].style.backgroundColor = colorInpRef.current.value\r\n    setColor(colorInpRef.current.value)\r\n\r\n    setHasAlpha(false)\r\n\r\n    setBtnDarkness()\r\n  }\r\n\r\n\r\n  const setCameraSize = () => {\r\n    const width = Math.max(1, widthInpRef.current.value)\r\n    const height = Math.max(1, heightInpRef.current.value)\r\n\r\n    const elem = document.getElementsByClassName(\"canvasContainer\")[0]\r\n    elem.style.width = `${width}px`\r\n    elem.style.height = `${height}px`\r\n    \r\n    const xScale = window.innerWidth / width\r\n    const yScale = window.innerHeight / height\r\n    let scale = Math.min(xScale, yScale)\r\n    scale = scale<1 ? scale-0.02 : 1\r\n\r\n    canvasRef.current.style.transform = `scale(${scale})`\r\n  }\r\n\r\n\r\n  const addMockup = (modelType) => {\r\n    setMockups(current => [...current, {key: uuid(), type: modelType}])\r\n    setShowAddModels(false)\r\n  }\r\n\r\n\r\n  const removeMockup = (uuid) => {\r\n    setMockups(current => current.filter(item => item.key !== uuid))\r\n  }\r\n\r\n\r\n  useEffect(() => { // set alpha\r\n    if (hasAlpha) {\r\n      document.getElementsByClassName(\"App\")[0].classList.add(\"alphaGrid\")\r\n      canvasRef.current.classList.add(\"alphaGrid\")\r\n      document.body.classList.remove(\"dark\")\r\n    } else {\r\n      document.getElementsByClassName(\"App\")[0].classList.remove(\"alphaGrid\")\r\n      canvasRef.current.classList.remove(\"alphaGrid\")\r\n      setBtnDarkness()\r\n    }\r\n  }, [hasAlpha])\r\n\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", setCameraSize)\r\n    window.addEventListener(\"keypress\", shortcutPressed)\r\n    \r\n    // set default camera size\r\n    // const size = Math.min(window.innerWidth-20, window.innerHeight-20)\r\n    widthInpRef.current.value = 1920\r\n    heightInpRef.current.value = 1080\r\n    \r\n    // set default fov\r\n    setFov(20)\r\n    \r\n    // set default background color\r\n    colorInpRef.current.value = \"#8A4CE6\"\r\n    setBackgroundColor()\r\n    \r\n    // set alpha default\r\n    setHasAlpha(true)\r\n    \r\n    // scale camera to initial size\r\n    setCameraSize()\r\n\r\n    // add default objects\r\n    addMockup(\"phone\")\r\n\r\n    return () => {\r\n      window.removeEventListener(\"resize\", setCameraSize)\r\n      window.removeEventListener(\"keypress\", shortcutPressed)\r\n    }\r\n  }, [])\r\n\r\n\r\n  return (\r\n    <div className=\"scene\">\r\n\r\n      <div className=\"toolbar\">\r\n        <button\r\n          className={toolIndex === 0 ? \"active\" : \"\"}\r\n          onClick={() => setToolIndex(0)}>\r\n            <FaHandPaper size={16} />\r\n        </button>\r\n        <div className=\"hSpacer\"></div>\r\n        <button\r\n          className={toolIndex === 1 ? \"active\" : \"\"}\r\n          onClick={() => setToolIndex(1)}>\r\n            <FaFillDrip size={16} />\r\n        </button>\r\n        <div className=\"hSpacer\"></div>\r\n        <button\r\n          className={toolIndex === 2 ? \"active\" : \"\"}\r\n          onClick={() => setToolIndex(2)}>\r\n            <FaArrowsAlt size={16} />\r\n        </button>\r\n        <button\r\n          className={toolIndex === 3 ? \"active\" : \"\"}\r\n          onClick={() => setToolIndex(3)}>\r\n            <FaSyncAlt size={16} />\r\n        </button>\r\n        <button\r\n          className={toolIndex === 4 ? \"active\" : \"\"}\r\n          onClick={() => setToolIndex(4)}>\r\n            <FaCompressArrowsAlt size={16} />\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"cameraSettings\">\r\n        <input type=\"number\" onChange={setCameraSize} ref={widthInpRef} />\r\n        <FaTimes size={16} />\r\n        <input type=\"number\" onChange={setCameraSize} ref={heightInpRef} />\r\n        <Slider value={fov} setValue={setFov} min={10} max={50} />\r\n      </div>\r\n\r\n      <div className=\"viewportSettings\">\r\n        <button\r\n          className={!hasAlpha ? \"active\" : \"\"}\r\n          onClick={() => setHasAlpha(!hasAlpha)}\r\n          tooltip=\"Background\">\r\n            <FaAdjust size={16} />\r\n        </button>\r\n        <input type=\"color\" onChange={setBackgroundColor} ref={colorInpRef} style={{backgroundColor: colorInpRef.current?.value}}></input> \r\n        <div className=\"hSpacer\"></div>\r\n        <button\r\n          className={objectShadows ? \"active\" : \"\"}\r\n          onClick={() => setObjectShadows(!objectShadows)}\r\n          tooltip=\"Shadows\">\r\n            <FaLightbulb size={16} />\r\n        </button>\r\n        <button\r\n          className={groundShadows && objectShadows ? \"active\" : \"\"}\r\n          onClick={() => setGroundShadows(!groundShadows)}\r\n          tooltip=\"Ground Shadows\">\r\n            <FaClone size={16} />\r\n        </button>\r\n      </div>\r\n\r\n      <button\r\n        className={!orbitEnabled ? \"lockViewBtn active\" : \"lockViewBtn\"}\r\n        onClick={() => setOrbitEnabled(!orbitEnabled)}>\r\n          <FaLock size={16} />\r\n      </button>\r\n\r\n      <div className=\"addPopup\" style={{transform: showAddModels ? 'scale(100%)' : 'scale(0%)' }}>\r\n        {Object.keys(modelNames).map(key => {\r\n          return <button key={key} className=\"addModelBtn\" onClick={() => addMockup(key)}>\r\n                  <FaPlus size={10} style={{marginRight:\"8px\"}}/>\r\n                  {modelNames[key]}\r\n                </button>\r\n        })}\r\n      </div>\r\n      \r\n      <button\r\n        className=\"addBtn\"\r\n        onClick={() => setShowAddModels(current => !current)}>\r\n          <FaPlus size={16}/>\r\n      </button>\r\n\r\n      <button\r\n        className=\"downloadBtn\"\r\n        onClick={() => setDoDownload(true)}>\r\n          <FaCamera size={16}/>\r\n      </button>\r\n\r\n      <div className=\"canvasContainer\">\r\n        <Canvas shadows ref={canvasRef} gl={{ preserveDrawingBuffer: true, antialias: true }} >\r\n\r\n          <PerspectiveCamera makeDefault fov={fov} position={[-3, -1, 4]} />\r\n\r\n          <MockupScene\r\n            groundShadows={groundShadows}\r\n            objectShadows={objectShadows}\r\n            orbitEnabled={orbitEnabled}\r\n            doDownload={doDownload}\r\n            setDoDownload={setDoDownload}\r\n            width={widthInpRef.current ? widthInpRef.current.value : 0}\r\n            height={heightInpRef.current ? heightInpRef.current.value : 0}\r\n            tool={tools[toolIndex]}\r\n            mockups={mockups}\r\n            removeMockup={removeMockup}\r\n          />\r\n\r\n          {!hasAlpha && <color attach=\"background\" args={[color]} />}\r\n\r\n        </Canvas>\r\n      </div>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default Scene;","import React, {  } from 'react';\nimport './App.scss';\n\nimport Scene from './components/scene/Scene';\n\nfunction App () {\n\n  return (\n    <div className=\"App\">\n      <Scene />\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}